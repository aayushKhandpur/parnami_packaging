<%= stylesheet_link_tag "homecss" %>
<div class="container-fluid">
	<div style="border-bottom: 1px solid #EEEEEE;">
		<h3>Order Delivery Plan</h3>
	</div>
	<div class="col-md-12" style="padding-left:0px;margin-top:1%;margin-bottom:1%;">
		<back-button data-toggle="tooltip" title="Click this button to go to previous screen."></back-button>
	</div>
	<div class="row">
		<div class="col-md-3">
			<div class="profile-info-row">
				<div class="profile-info-name">Quantity</div>
				<div class="profile-info-value">
					<input type="text" class="form-control" ng-model="orderPlan.quantity" ng-disabled="true"/>
				</div>
			</div>
		</div>
		<div class="col-md-3">
			<div class="profile-info-row">
				<div class="profile-info-name">Delivery Date</div>
				<div class="profile-info-value">
					<div class='input-group date' id='datetimepicker1'>
						<input type='text' class="form-control" ng-model="orderPlan.delivery_date" ng-disabled="true"/>
						<span class="input-group-addon">
						<span class="fa fa-calendar"></span>
						</span>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div>
		<div style="border-bottom: 1px solid #EEEEEE;">
			<h3>Order Delivery Plan Processes</h3>
		</div>
		<div class="col-md-12" style="padding-left:0px;margin-top:1%;margin-bottom:1%;">
			<button data-toggle="tooltip" title="Click this button to create the Order Product Plan Process" class="btn btn-default col-md-1" ng-click="addOrderPlanProcess()"><i class="fa fa-plus-square"></i></button>
		</div>
		<div class="col-md-12" style="padding-left:0px;margin-top:1%;margin-bottom:1%;" ng-hide="allPlanProcessList.length == 0">
			<table class="table table-striped table-hover">
				<thead>
					<tr>
						<th>Process Name</th>
						<th>Location Name</th>
						<th>Vendor Name</th>
						<th>Action</th>
					</tr>
				</thead>
				<tbody ui:sortable ng:model="check">
					<tr ng-repeat="process in allPlanProcessList" style="cursor:move;">
						<td style="width:25%"><select class="form-control" ng-model="process.master_process_id" ng-options="masterProcess.id as masterProcess.name for masterProcess in processPicklist" ng-disabled="!process.isEditable" ng-change="processChanged(process)"/></td>
						<td style="width:25%"><select class="form-control" ng-model="process.location_id" ng-options="loc.id as loc.name for loc in locationPicklist" ng-disabled="!process.isEditable" ng-change="locationChanged(process)"/></td>
						<td style="width:25%"><select class="form-control" ng-model="process.vendor_id" ng-options="vendor.id as vendor.name for vendor in vendorPicklist" ng-disabled="!process.isEditable" ng-show="process.vendor_id != null && process.vendor_id.length != 0"/><label style="font-weight: normal !important;padding-left: 15px;" ng-show="process.vendor_id == null || process.vendor_id.length == 0">Not Applicable</label></td>
						<td style="width:25%">
							<span style="cursor:default;" class="col-md-6"><i class="fa fa-check" ng-show="process.isEditable" ng-click="executeCRUDOperation('add',process)"></i><i class="fa fa-edit" ng-show="!process.isEditable" ng-click="executeCRUDOperation('edit',process)"></i></span>
							<span style="cursor:default;" class="col-md-6"><i class="fa fa-trash" ng-show="!process.isEditable" ng-click="executeCRUDOperation('delete',process)"></i><i class="fa fa-ban" ng-show="process.isEditable && process.id == null" ng-click="executeCRUDOperation('cancel',process)"></i></span>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
<%= javascript_include_tag "homejs" %>

